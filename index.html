<?php
function grabar()
{
	if (isset($_GET['grabar']))
	{
		$mi_url="localhost/prototipo/index.php";
		$fo= fopen("$mi_url","r") or die ("No se ha encontrado la pagina.");
		$mi_cadena = null;

			while (!feof($fo)) {
				$mi_cadena .= fgets($fo, 4096); 
				}
				fclose ($fo);
				print("<textarea name='mi_area' cols='100' rows='20'>$mi_cadena</textarea>");	
	}
}		
?>

<script>
function VerTexto()
{
var x=document.getElementById("demo").value;
document.getElementById("vista").innerHTML=x;
}
function Limpiar()
{
document.getElementById("demo").value="";
document.getElementById("vista").innerHTML="";
}
</script>




<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
</head>
<body>
<center>
<table border="1">
<tr>
<td width="150">
Nombre de la Pagina </br>

</td>
<td id="vista" width="400">
Chao 
</td>
<td width="320">
<center>
Pagina de Prueba</br></br>

<div class="divspoiler">
<input type="button" value="Texto" style='width:320px;' onclick="if (this.parentNode.nextSibling.childNodes[0].style.display != '') { this.parentNode.nextSibling.childNodes[0].style.display = ''; this.value = 'Ocultar'; } else { this.parentNode.nextSibling.childNodes[0].style.display = 'none'; this.value = 'Texto'; }" />
</div><div><div class="spoiler" style="display: none;">
<textarea id="demo" name="texto" cols="25" rows="5">
</textarea><br>
<button type="button" onclick="VerTexto()">Ver</button><button type="button" onclick="Limpiar()">Limpiar</button>
</div></div>

<div class="divspoiler">
<input type="button" value="Galeria" style='width:320px;' onclick="if (this.parentNode.nextSibling.childNodes[0].style.display != '') { this.parentNode.nextSibling.childNodes[0].style.display = ''; this.value = 'Ocultar'; } else { this.parentNode.nextSibling.childNodes[0].style.display = 'none'; this.value = 'Galeria'; }" />
</div><div><div class="spoiler" style="display: none;">
Aquí el contenido que queremos ocultar
</div></div>

<div class="divspoiler">
<input type="button" value="Galeria + Texto" style='width:320px;' onclick="if (this.parentNode.nextSibling.childNodes[0].style.display != '') { this.parentNode.nextSibling.childNodes[0].style.display = ''; this.value = 'Ocultar'; } else { this.parentNode.nextSibling.childNodes[0].style.display = 'none'; this.value = 'Galeria + Texto'; }" />
</div><div><div class="spoiler" style="display: none;">
Aquí el contenido que queremos ocultar
</div></div>

<div class="divspoiler">
<input type="button" value="Contacto" style='width:320px;' onclick="if (this.parentNode.nextSibling.childNodes[0].style.display != '') { this.parentNode.nextSibling.childNodes[0].style.display = ''; this.value = 'Ocultar'; } else { this.parentNode.nextSibling.childNodes[0].style.display = 'none'; this.value = 'Contacto'; }" />
</div><div><div class="spoiler" style="display: none;">
Aquí el contenido que queremos ocultar
</div></div>

<div class="divspoiler">
<input type="button" value="Redes Sociales" style='width:320px;' onclick="if (this.parentNode.nextSibling.childNodes[0].style.display != '') { this.parentNode.nextSibling.childNodes[0].style.display = ''; this.value = 'Ocultar'; } else { this.parentNode.nextSibling.childNodes[0].style.display = 'none'; this.value = 'Redes Sociales'; }" />
</div><div><div class="spoiler" style="display: none;">
Aquí el contenido que queremos ocultar
</div></div>

</br>
</center>
</td>
</tr>
<tr>
<td></td><td></td>
<td>	
		</br>
		<form id="crear" action="index.php?grabar" method="post" style="margin:0px;">
		Nombre de la Pagina: <input type="text" name="pagina" size="20" maxlength="15"/></br>
		<input type="submit" value="Crear Pagina" style='width:320px;' /></br>
		</form>			
		</br>
</td>
</tr>
</table>
</center>
	
</body>

</html>